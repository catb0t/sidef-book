[1]: http://rosettacode.org/wiki/Farey_sequence

# [Farey sequence][1]

```ruby
func farey_count(n) {
    var j = 0
    for k in range(2, n) {
        j += farey_count(n//k)
    }
    n*(n+3)//2 - j
}
 
func farey_seq(n) {
    gather {
        for i in range(1, n) {
            for j in range(0, i) {
                take(j/i)
            }
        }
    }.uniq.sort
}
 
say 'Farey sequence for order 1 through 11 (inclusive):'
for n in range(1, 11) {
    "F(%2d): %s\n".printf(n, farey_seq(n).map{.as_rat}.join(', '))
}
 
say 'Number of fractions in the Farey sequence:'
for i in range(100, 1000, 100) {
    "F(%4d) =%7s\n".printf(i, farey_count(i))
}
```

#### Output:
```
Farey sequence for order 1 through 11 (inclusive):
F( 1): 0, 1
F( 2): 0, 1/2, 1
F( 3): 0, 1/3, 1/2, 2/3, 1
F( 4): 0, 1/4, 1/3, 1/2, 2/3, 3/4, 1
F( 5): 0, 1/5, 1/4, 1/3, 2/5, 1/2, 3/5, 2/3, 3/4, 4/5, 1
F( 6): 0, 1/6, 1/5, 1/4, 1/3, 2/5, 1/2, 3/5, 2/3, 3/4, 4/5, 5/6, 1
F( 7): 0, 1/7, 1/6, 1/5, 1/4, 2/7, 1/3, 2/5, 3/7, 1/2, 4/7, 3/5, 2/3, 5/7, 3/4, 4/5, 5/6, 6/7, 1
F( 8): 0, 1/8, 1/7, 1/6, 1/5, 1/4, 2/7, 1/3, 3/8, 2/5, 3/7, 1/2, 4/7, 3/5, 5/8, 2/3, 5/7, 3/4, 4/5, 5/6, 6/7, 7/8, 1
F( 9): 0, 1/9, 1/8, 1/7, 1/6, 1/5, 2/9, 1/4, 2/7, 1/3, 3/8, 2/5, 3/7, 4/9, 1/2, 5/9, 4/7, 3/5, 5/8, 2/3, 5/7, 3/4, 7/9, 4/5, 5/6, 6/7, 7/8, 8/9, 1
F(10): 0, 1/10, 1/9, 1/8, 1/7, 1/6, 1/5, 2/9, 1/4, 2/7, 3/10, 1/3, 3/8, 2/5, 3/7, 4/9, 1/2, 5/9, 4/7, 3/5, 5/8, 2/3, 7/10, 5/7, 3/4, 7/9, 4/5, 5/6, 6/7, 7/8, 8/9, 9/10, 1
F(11): 0, 1/11, 1/10, 1/9, 1/8, 1/7, 1/6, 2/11, 1/5, 2/9, 1/4, 3/11, 2/7, 3/10, 1/3, 4/11, 3/8, 2/5, 3/7, 4/9, 5/11, 1/2, 6/11, 5/9, 4/7, 3/5, 5/8, 7/11, 2/3, 7/10, 5/7, 8/11, 3/4, 7/9, 4/5, 9/11, 5/6, 6/7, 7/8, 8/9, 9/10, 10/11, 1
Number of fractions in the Farey sequence:
F( 100) =   3045
F( 200) =  12233
F( 300) =  27399
F( 400) =  48679
F( 500) =  76117
F( 600) = 109501
F( 700) = 149019
F( 800) = 194751
F( 900) = 246327
F(1000) = 304193
```